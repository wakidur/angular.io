<div class="row">
  <div class="col-md-2 d-none d-md-block bg-light sidebar">
    <app-left-nav-main></app-left-nav-main>
  </div>

  <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-3">
    <div class="row">
      <div class="col-sm-12">
        <h1>{{ exerciseForm.controls["title"].value || "Exercise Title*" }}</h1>
      </div>
    </div>
    <!-- formGroup, formControl, and formArray.  -->
    <form [formGroup]="exerciseForm" (ngSubmit)="onSubmit(exerciseForm)">
      <div class="row">
        <div class="col-sm-4">
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" name="name" formControlName="name" class="form-control" id="name" placeholder="Enter exercise name. Must be unique." />
            <small *ngIf=" exerciseForm.controls['name'].hasError('required') && (exerciseForm.controls['name'].touched || submitted)"
              class="form-text text-danger">
              Name is required
            </small>
            <small *ngIf="exerciseForm.controls['name'].hasError('invalidAlphaNumeric') && (exerciseForm.controls['name'].touched || submitted)"
              class="form-text text-danger">
              Name must be alphanumeric
            </small>
          </div>
          <div class="form-group">
            <label for="exercise-title">Title</label>
            <input type="text" formControlName="title" name="title" id="exercise-title" class="form-control" id=""
              placeholder="Example input" />
            <small *ngIf=" exerciseForm.controls['title'].hasError('required') && (exerciseForm.controls['title'].touched || submitted)"
              class="form-text text-danger">
              Title is required
            </small>

          </div>
          <div class="form-group">
            <label for="exercise-description">Description:</label>
            <textarea formControlName="description" class="form-control" id="exercise-description" placeholder="Enter exercise description."></textarea>
            <small *ngIf=" exerciseForm.controls['description'].hasError('required') && (exerciseForm.controls['description'].touched || submitted)
              "
              class="form-text text-danger">
              Description is required
            </small>
          </div>
          <div class="form-group">
            <label for="exercise-steps">Exercise Steps:</label>
            <textarea formControlName="procedure" class="form-control" id="exercise-steps" placeholder="Enter exercise steps."></textarea>
          </div>
          <div class="form-group">
            <label for="name-audio">Exercise Audio:</label>
            <input type="text" formControlName="nameSound" class="form-control" id="name-audio" placeholder="Enter location\url where audio clue for the exercise is stored." />
          </div>
        </div>
        <div class="col-sm-4">
          <div class="form-group">
            <img id="img-preview" class="img-preview" [src]="exerciseForm.controls['image'].value? '/assets/images/' + exerciseForm.controls['image'].value: '/assets/images/' + 'running.png'" /><br />
            <label for="exercise-image">Exercise Image (Will be scaled to: 540 X 360 px):</label>
			
            <input type="text" formControlName="image" class="form-control" id="exercise-image" placeholder="Enter exercise image url.">

            <small *ngIf="exerciseForm.controls['image'].hasError('required') && (exerciseForm.controls['image'].touched || submitted)"
              class="form-text text-danger">Image url is required</small>
          </div>
		  
		  
          <div class="form-group" formArrayName="videos">
            <label>Videos:</label>
            <div *ngFor="let video of videoArray.controls; let i=index" class="form-row align-items-center">
              <div class="col-sm-10">
                <input type="text" class="form-control" [formControlName]="i" placeholder="Add a related youtube video identified." />
              </div>
              <div class="col-auto my-1">
                <button class="btn alert-danger" title="Delete this video." (click)="deleteVideo(i)">
                  <span class="ion-ios-trash"></span>
                </button>
              </div>
              <small *ngIf="exerciseForm.controls['videos'].controls[i].hasError('required') && (exerciseForm.controls['videos'].controls[i].touched || submitted)"
                class="form-text text-danger">Video identifier is required</small>
            </div>
          </div>
          <div class="form-group text-left">
            <button type="button " (click)="addVideo()" class="btn btn-primary">Add Video</button>
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-warning">Save</button>
          </div>
        </div>
      </div>
    </form>
  </main>
</div>
